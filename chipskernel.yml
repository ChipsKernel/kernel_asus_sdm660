kind: pipeline
name: kernel_asus_sdm660

clone:
  depth: 1

steps:
  - name: Compile
    image: debian:latest
    environment:
      token:
        from_secret: tg_token
      chat_id:
        from_secret: rel_channel
      priv_id:
        from_secret: priv_info
      nToken:
        from_secret: nToken
      my_id:
        from_secret: my_id
      is_test: false
    commands:
      - apt-get update
      - apt-get install -y ccache bc bash git-core gnupg build-essential zip curl make automake autogen autoconf autotools-dev libtool shtool python m4 gcc libtool zlib1g-dev dash pigz wget
      - wget https://raw.githubusercontent.com/najahiiii/Noob-Script/noob/ci/drone/chipskernel && chmod +x chipskernel
      - bash chipskernel
    when:
      branch:
        - lineage-16.0
